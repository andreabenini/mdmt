<!DOCTYPE html>
<html>
<head>
    <title>README.html.tmp</title>
    <meta charset="UTF-8">
    <meta name="generator" content="mdmt">
    <link rel='stylesheet' href='/home/ben/Documents/mdmt/templates/mdmt.css'>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <script src="https://twemoji.maxcdn.com/2/twemoji.min.js?11.2"></script>        <!-- Rendering UTF-8 emoji -->
    <script>window.onload=function() { twemoji.parse(document.body); }</script>     <!-- Emoji rendering -->
</head>
<body class="markdown-body">
<p><img alt="project logo" src="logo.png" /></p>
<h1 id="markdown-multi-tool-mdmt">MarkDown Multi Tool <em>(mdmt)</em></h1>
<div class="toc">
<ul>
<li><a href="#markdown-multi-tool-mdmt">MarkDown Multi Tool (mdmt)</a><ul>
<li><a href="#concept">Concept</a></li>
<li><a href="#purpose">Purpose</a></li>
<li><a href="#requirements">Requirements</a></li>
</ul>
</li>
<li><a href="#usage">Usage</a></li>
<li><a href="#examples">Examples:</a><ul>
<li><a href="#markdown-html">MarkDown -&gt; HTML</a></li>
<li><a href="#markdown-pdf">MarkDown -&gt; PDF</a></li>
<li><a href="#html-pdf">HTML -&gt; PDF</a></li>
<li><a href="#concatenate-markdown-pdf">Concatenate MarkDown -&gt; PDF</a></li>
<li><a href="#split-by-headers">Split by headers</a></li>
</ul>
</li>
<li><a href="#project-todos">Project TODOs</a></li>
<li><a href="#changelog">Changelog</a></li>
</ul>
</div>
<hr />
<p>&nbsp;<br />
&nbsp;  </p>
<h4 id="concept"><strong>Concept</strong></h4>
<p>This tool deals with markdown files and it&rsquo;s used to convert them to other formats such as
<strong>PDF</strong> and <strong>HTML</strong> files.  </p>
<ul>
<li>I usually write manuals as MarkDown files, there&rsquo;s no need for a GUI editor even if it helps
a lot. Printing or rendering MD files outside a proper tool might be a pain. Fortunately HTML
or PDF files doesn&rsquo;t suffer this problem.</li>
<li>Want a full blown formatting language with a lot of pro features ? Markdown is not the right
format for you, and this utility is not needed at all. Pick up TeX (LaTeX, ConTeXt, &hellip;) for
that, Knuth&rsquo;s work is still awesome even after 50 years. Please stay away from proprietary formats.</li>
</ul>
<h2 id="purpose">Purpose</h2>
<p>It&rsquo;s still a small utility but it already has achieved its basic tasks such as:</p>
<ul>
<li>No human interaction, used in massive batch processes, just a small task in an automation process.</li>
<li>Lightweight and highly portable. Even if pandoc is a massive tool and has plenty of features (and
I like it) it also has a lot of dependencies, having a full blown Haskell environment installed 
(~400Mb) might not be your best choice for a small/minimal machine or container.</li>
<li>Highly portable means: python3 required, webkit <em>wkhtmltopdf</em> required, nothing more. Script is
just <strong>one</strong> file, there&rsquo;s no need (yet) to define it as a module or require massive python deps.
Linux and MacOS users might be happy with it.</li>
<li>Do not reinvent the wheel. Building a full blown HTML renderer is an interesting task but not
something I need to achieve when webkit is already in place. In fact it uses webkit and its rendering
features to properly deal with HTML pages and scripts.</li>
<li>Layout friendly and customizable. CSS is a thing for a while and a quite nice style sheet language,
reinventing some sort of custom language for rendering pages might not be a good idea when webkit+css
might do the same for you.</li>
<li>No proprietary extensions. Rendering with plain CSS, display pages with webkit, automation with
batch scripting. As easy as it gets.</li>
<li>Custom themes available. Default (and now only) CSS template file resembles github.com style HTML
pages layout, I&rsquo;ve barely taken formatting from there because that&rsquo;s what I use most and what I 
personally prefer. It&rsquo;s totally up to you to create your own CSS layout and define page rendering
according to your needs, dark layouts and so on.</li>
</ul>
<h2 id="requirements">Requirements</h2>
<ul>
<li><strong><em>python3</em></strong>. This is a python utility, basic libs supplied are fine, there&rsquo;s no need to install
additional things</li>
<li><strong><em>wkhtmltopdf</em></strong>. Webkit command line renderer. It uses the webkit engine from the command line,
if you already have any major linux desktop environment you should already have it. The package
is usually named <code>wkhtmltox</code>. MacOS users might download it directly or use <em>brew</em> for that
(<code>brew install wkhtmltopdf</code>)</li>
</ul>
<!--DISCLAIMER-->
<p>&nbsp;<br />
&nbsp;<br />
&nbsp;<br />
&nbsp;  </p>
<!--GEN_BEGIN-->
<p><strong><em>NOTE:</em></strong> This <em>PDF</em> document is a practical example of what <code>mdmt</code> could do.<br />
This user manual has been generated by joining all markdown files in this git project repository</p>
<p>&nbsp;<br />
&nbsp;<br />
&nbsp;<br />
&nbsp;  </p>
<!--GEN_END-->

<h1 id="usage">Usage</h1>
<pre><code class="language-sh">$ ./mdmt --help
Usage: mdmt [options]
       Markdown Management Tool utility
       Convert markdown files to your favorite format

Options:
  -h, --help            show this help message and exit
  -v, --verbose         Verbose output information
  -i INPUTFILE, --input=INPUTFILE
                        Input file to convert (*.md)
  -l INPUTLIST, --input-list=INPUTLIST
                        Concat *.MD list from stdin as one sigle file
  -o OUTPUTFILE, --output=OUTPUTFILE
                        Destination file name (md,htm,html,pdf)
  -t OUTPUTTYPE, --type=OUTPUTTYPE
                        Force output to one of these values: (md,htm,html,pdf)
                        autodetected by default
  -p PAGE, --page=PAGE  Page size (when applicable) (A4,Letter)
  -T TEMPLATE, --template=TEMPLATE
                        CSS template to apply, default: mdmt.css
  -P PLUGINS, --plugins=PLUGINS
                        Specify plugins to use on markdown formatting
  -I, --plugins-help    Complete help on plugins and their usage
  -H HEADER, --header-split=HEADER
                        Split a markdown by headers
</code></pre>
<h1 id="examples">Examples:</h1>
<h2 id="markdown-html">MarkDown -&gt; HTML</h2>
<pre><code class="language-sh"># Simple conversion, Default &quot;mdmt.css&quot; template file is used when found in path
mdmt --input=tests/README.md --output=tests/README.html

# Same as above but explicitly specify output file type, autodetection is skipped
mdmt --input=tests/README.md --output=tests/README --type=html

# Use specific template file during conversion
#     Filename might be absolute or relative to current working path
mdmt --input=tests/README.md --output=tests/README.html --template=templates/mdmt.css
</code></pre>
<h2 id="markdown-pdf">MarkDown -&gt; PDF</h2>
<pre><code class="language-sh"># Simple conversion, Default &quot;mdmt.css&quot; template file is used when found in path
mdmt --input=tests/README.md --output=tests/README.pdf

# Same as above but explicitly specify output file type, autodetection is skipped
mdmt --input=tests/README.md --output=tests/README --type=pdf

# Use specific template file during conversion
#     Filename might be absolute or relative to current working path
mdmt --input=tests/README.md --output=tests/README.pdf --template=templates/mdmt.css
</code></pre>
<h2 id="html-pdf">HTML -&gt; PDF</h2>
<pre><code class="language-sh"># Convert HTML file to a PDF file, templates are not used
./mdmt --verbose --input=tests/index.html --output=tests/output/index.pdf
</code></pre>
<h2 id="concatenate-markdown-pdf">Concatenate MarkDown -&gt; PDF</h2>
<pre><code class="language-sh"># - Concatenate a bunch of separate markdown files into one single stream
# - Convert markdown files stream to a single PDF file (join)
# - Use specific template file during conversion
#       template filename might be absolute or relative to current working path
cat &lt;&lt; EOT |mdmt --input-list - --output=tests/README.pdf --template=templates/mdmt.css
tests/README.md
tests/SEC-RES-REQ-1.md
EOT

# Same command with input stream generated from another command
ls -1 tests/*.md | \
    mdmt --input-list - --output=tests/README.pdf --template=templates/mdmt.css
</code></pre>
<h2 id="split-by-headers">Split by headers</h2>
<p>Split on different files based on selected headings, few notes are necessary to 
understand how it works:</p>
<ul>
<li><code>--output</code> is <strong>mandatory</strong> and it must be an existing directory. Few examples:
    - <code>--output=tests</code>. Valid if &ldquo;<em>tests</em>&rdquo; is an existing (and writable) directory
    - <code>--output=tests/a.md</code>. Invalid because it is a file, <strong>but</strong> output files 
        <strong>will be saved</strong> to <code>tests</code> if directory exists and it is writable.</li>
<li>Each single generated file will be saved when selected header is found in source,
    allowed values are <code>1..6</code>. This structure will be generated:
    - <code>--header-split 1</code> Files will be saved as &ldquo;<code>[nn] [title].md</code>&rdquo; in the target
        directory.<br />
<code>[nn]</code> is calculated on the number of sections found in the source file
        (starting from &ldquo;0&rdquo;).<br />
<code>[title]</code> is the header title name, allowed characters: [a-zA-Z0-9 ]
    - <code>--header-split 2..6</code> Directories with <code>H1</code> headers will be created inside
        <code>--output</code> dir. Naming conventions will follow what already described above.
        Inside each directory a <code>README.md</code> file with contents from upper sections
        will be created and files for selected section will be stored separately
        with &ldquo;<code>[nn] [title].md</code>&rdquo; convention previously described. This schema aims
        to reproduce some sort of &ldquo;README.md&rdquo;+Tree structure just like common
        github repos.</li>
</ul>
<p>Examples:</p>
<pre><code class="language-sh"># H1 Split
mdmt --input=tests/README.md --output=tests/ --template=templates/mdmt.css --header-split 1

# H2..n Split
mdmt --input=tests/README.md --output=tests/ --template=templates/mdmt.css --header-split 2
mdmt --input=tests/README.md --output=tests/ --template=templates/mdmt.css --header-split 3
#...
mdmt --input=tests/README.md --output=tests/ --template=templates/mdmt.css --header-split 6
</code></pre>
<h1 id="project-todos">Project TODOs</h1>
<p>This is not a never finished project, something has to work and something else will be added
on upcoming releases (maybe). Here are planned features, wishlists, requirements and improvements.
Some of them might see the light in upcoming releases, few will remain here for some time. Feel
free to fund the project if you want to add your favorite feature or contribute if possible.<br />
Here&rsquo;s current wishlist:</p>
<ul>
<li>code block color rendering. It&rsquo;s already working but a better formatted (and colored) output
is preferred.</li>
<li>code block CSS support. As a programmer I usually add a lot of code blocks, basic CSS is not enough.</li>
</ul>
<p>Please add your pull requests or file an issue for your favorite features, each single feature
has to be fully MarkDown compatible, no extra custom features will be added. Use TeX instead.
&nbsp;<br />
&nbsp;<br />
&nbsp;<br />
&nbsp;<br />
&nbsp;<br />
&nbsp;<br />
&nbsp;<br />
&nbsp;<br />
&nbsp;<br />
&nbsp;<br />
&nbsp;<br />
&nbsp;  </p>
<h1 id="changelog">Changelog</h1>
<p>Changelog documentation on various mdmt versions, known issues, inner working and fixes along the way
&nbsp;<br />
&nbsp;  </p>
<hr />
<blockquote>
<p><strong>v1.0.0 (22/05)</strong><br />
<em>Stable release, runtime custom formatting plugins available</em></p>
</blockquote>
<ul>
<li><strong>New features:</strong>
    - Markdown formatting plugins activation available at runtime, new parameter <code>--plugins</code>
    - <code>--plugins-help</code> option for extensive help on available plugins.</li>
<li><strong>Internals:</strong>
    - Testing on big files, it might take out a lot of memory but does a rather decent job.
    - Feature freeze, stability and patches releases only for a while.</li>
</ul>
<hr />
<blockquote>
<p><strong>v0.9.2 (22/04)</strong><br />
<em>minor layout cleanup and document formatting</em></p>
</blockquote>
<ul>
<li><strong>New Features:</strong>
    - <code>text-align:justify</code> is now the default text alignment on standard (and still only) CSS theme.
    - plugin <strong>nl2br</strong> is not pleasant on HTML page rendering, CSS <code>text-align:justify</code> has been
    elected as default page justification on all text. Layout is more appealing even if rendered
    text is not exactly like the markdown (but markdown does not have text justification at all).
    - Added a new script to automatically generate a complete user manual for this project, <strong>HTML</strong>
    and <strong>PDF</strong> files are now created by <code>mdmt</code> itself !
    - User manuals available as HTML or PDF in the <code>doc/</code> directory.
    - <code>README.md</code> gets automatically updated from the document generation script.
    - <strong><em>md</em></strong> and <strong><em>html</em></strong> files are now both supported as <code>--input</code> parameter but <strong>html -&gt; md</strong>
    conversion is still not yet implemented.</li>
<li><strong>Internals:</strong>
    - Minor error checking added to improve script reliability.
    - Input and output files are checked before dealing with them</li>
</ul>
<hr />
<blockquote>
<p><strong>v0.9.1 (22/04)</strong><br />
<em>Usable, all planned features are in place</em></p>
</blockquote>
<ul>
<li><strong>New features:</strong>
    - Slightly optimized code generation and layout cleanup
    - Better exceptions trapping
    - CSS minor fixes, default layout is mainly oriented to GitHub look and feel
    - Providing more CSS templates for different layouts is not yet a priority but it&rsquo;s possible
    on future releases</li>
<li><strong>Internals:</strong>
    - HTML javascript code cleanup. Avoiding to generate static HTML pages with JS code in it,
    this really helps during PDF generation due to the fact the webkit plain rendering is good
    doesn&rsquo;t handle runtime code properly. Emoji is still there as the only exception.</li>
</ul>
<hr />
<blockquote>
<p><strong>v0.9 (22/04)</strong><br />
<em>Code cleanup</em></p>
</blockquote>
<ul>
<li><strong>New features:</strong>
    - Added <code>--verbose</code> flag for additional output when needed.
    - mermaid code block support now added, now it&rsquo;s fully supported on HTML and PDF files
    generation.
    - Major rewrite and some code optimization.
    - Internet access is required during Mermaid blocks generation (if any), there&rsquo;s no need
    later on.</li>
<li><strong>Internals:</strong>
    - Code optimizations are related to a stable and usable mermaid support for PDF and HTML
    generation.
    - External mermaid service from their CDN is now used when images are generated. Raw HTML
    pages might be rendered on the fly with some JS code but newly added methods <em>totally avoid</em>
    to inject JavaScript code in the build process. This approach fairly and properly render all
    Mermaid blocks equally on PDF and HTML.
    There are a lot of known issues with webkit libs and their Javascript interpreter due to the
    fact it is way less powerful than Google V8 or equivalent engines. Statically generating graphs
    directly from MarkDown code seems to be the best option, GitHub does exactly the same.</li>
</ul>
<hr />
<blockquote>
<p><strong>v0.3 (22/04)</strong><br />
<em>PDF proper fixes when used with webkit rendering engine</em></p>
</blockquote>
<ul>
<li><strong>New features:</strong>
    - Major cleanup for PDF generation, reliable and based on tmp files to avoid webkit known issues</li>
<li><strong>Internals:</strong>
    - Fonts and formatting are left on the CSS side, need to fix it properly.
    - webkit rendering is really good but workaround must be placed to fix its errantic behavior
    when local resources are loaded from main page.
    - Basically this is a webkit fix for known issues release.</li>
</ul>
<hr />
<blockquote>
<p><strong>v0.2 (22/04)</strong><br />
<em>HTML generation seems to be finally acceptable</em></p>
</blockquote>
<ul>
<li><strong>New features:</strong>
    - md join from multiple files from stdin</li>
<li><strong>Internals:</strong>
    - Syntax fixes, python linter is now happy
    - Focusing on single pages generation multiple file joins are not yet ready for prime time
    - Working on speed and efficiency, no refactoring yet
    - Getting emoji as UTF-8 chars. Somewhat important when importing chat conversations</li>
</ul>
<hr />
<blockquote>
<p><strong>v0.1 (22/04)</strong><br />
<em>Nothing special but it works, a rather good RC1</em></p>
</blockquote>
<ul>
<li><strong>New features:</strong>
    - md -&gt; html
    - md -&gt; pdf
    - md multiple split
    - md join from multiple files
    - using python builtin markdown module and external <code>wkhtmltopdf</code> utility</li>
<li><strong>Internals:</strong>
    - barebone test unit in place for multiple tests
    - software is still for personal usage, it just works, no heavy input checks or
        sanity improvements
    - tested with small markdown files <em>(&lt;=100 Kb)</em></li>
</ul>
<hr />
<p>&nbsp;<br />
&nbsp;  </p>
</body>
</html>
